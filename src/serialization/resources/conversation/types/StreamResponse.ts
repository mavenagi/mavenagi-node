/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as serializers from "../../../index";
import * as MavenAGI from "../../../../api/index";
import * as core from "../../../../core";
import { AskStreamTextEvent } from "./AskStreamTextEvent";
import { AskStreamMetadataEvent } from "./AskStreamMetadataEvent";
import { AskStreamStartEvent } from "./AskStreamStartEvent";
import { AskStreamEndEvent } from "./AskStreamEndEvent";

export const StreamResponse: core.serialization.Schema<serializers.StreamResponse.Raw, MavenAGI.StreamResponse> =
    core.serialization
        .union("eventType", {
            text: AskStreamTextEvent,
            metadata: AskStreamMetadataEvent,
            start: AskStreamStartEvent,
            end: AskStreamEndEvent,
        })
        .transform<MavenAGI.StreamResponse>({
            transform: (value) => value,
            untransform: (value) => value,
        });

export declare namespace StreamResponse {
    type Raw = StreamResponse.Text | StreamResponse.Metadata | StreamResponse.Start | StreamResponse.End;

    interface Text extends AskStreamTextEvent.Raw {
        eventType: "text";
    }

    interface Metadata extends AskStreamMetadataEvent.Raw {
        eventType: "metadata";
    }

    interface Start extends AskStreamStartEvent.Raw {
        eventType: "start";
    }

    interface End extends AskStreamEndEvent.Raw {
        eventType: "end";
    }
}
